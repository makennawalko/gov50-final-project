---
title: "Gov 50 Final Project"
author: Makenna Walko
description: "Makenna's brilliant, mind-boggling, innovative, A+ worthy final project !!"
output:
  distill::distill_article:
    self_contained: false
---
```{r}
library(tidyverse) 
library(ggplot2)
data2 <- read_csv("data/marvel-wikia-data.csv")
data2
```
  
```{r}
data2 <- data2 |>
  mutate(lgbt_character = case_when(GSM == "Bisexual Characters" ~ 1,
                                    GSM == "Homosexual Characters" ~ 1,
                                    GSM == "Pansexual Characters" ~ 1,
                                    GSM == "Transgender Characters" ~ 1,
                                    TRUE ~ 0),
         female_character = if_else(SEX == "Female Characters", 1, 0),
        minority_character = (female_character == 1 | lgbt_character == 1))

minority_graph <- data2 |>
  group_by(ALIGN, minority_character) |>
  summarize(n = n()) |>
  ggplot(mapping = aes(x = ALIGN, y = n)) +
  geom_col(aes(fill = minority_character), position = "dodge") +
  labs(title = "Marvel Comic Book Characters By Moral Alignment and Identity",
       x = "Alignment",
       y = "Number of Characters",
       fill = "Minority Affiliation") +
  scale_fill_discrete(name = "Minority Affiliation", labels = c("No Minority Affiliation", "Minority (LGBT+ or Female)")) +
  scale_x_discrete(guide = guide_axis(n.dodge=2))

minority_graph
```
```{r}

female_graph <- data2 |>
  group_by(ALIGN, SEX) |>
  summarize(n = n()) |>
  ggplot(mapping = aes(x = ALIGN, y = n)) +
  geom_col(aes(fill = SEX), position = "dodge") +
  labs(title = "Marvel Comic Book Characters By Moral Alignment and Gender Identity",
       x = "Alignment",
       y = "Number of Characters",
       fill = "Minority Affiliation") +
    scale_x_discrete(guide = guide_axis(n.dodge=2))

female_graph
```
```{r}

lgbt_graph <- data2 |>
  drop_na(GSM) |>
  group_by(ALIGN, GSM) |>
  summarize(n = n()) |>
  ggplot(mapping = aes(x = ALIGN, y = n)) +
  geom_col(aes(fill = GSM), position = "dodge") +
  labs(title = "Moral Alignment of LGBT+ Marvel Comic Book Characters",
       x = "Alignment",
       y = "Number of Characters",
       fill = "LGBT+ Identity") +
    scale_x_discrete(guide = guide_axis(n.dodge=2))

lgbt_graph
```
## Correlation

```{r}

data2 <- data2 |>
  drop_na(ALIGN) |>
  mutate(align_value = case_when(ALIGN == "Good Characters" ~ 2,
                                    ALIGN == "Neutral Characters" ~ 1,
                                    ALIGN == "Bad Characters" ~ 0))

cor_minority <- cor(data2$minority_character, data2$align_value,
      use = "pairwise")

cor_minority

cor_female <- cor(data2$female_character, data2$align_value,
      use = "pairwise")

cor_female

cor_lgbt <- cor(data2$lgbt_character, data2$align_value)

cor_lgbt
```

```{r}
cor_table <- data.frame(
  Variable1 = c("Minority Characters (General)", "Female Characters", "LGBT+ Characters"),
  Correlation = c(cor_minority, cor_female, cor_lgbt) 
)

knitr::kable((cor_table), col.names = c("Idenity", "Correlation With Moral Alignment"))
```


## Analysis of Correlation

The reported correlation between female identity and moral alignment was 0.19. The reported correlation between LGBT+ identity and moral alignment was 0.06. In general, the correlation between being a minority character and moral alignment was 0.20. This shows that falling into any of the three identity categories was positively associated with being portrayed as a "good" character, although this correlation was much stronger for women and the overall "minority" character category than it was for LGBT+ characters specifically.

## Analysis of Graphs

As the graphs show, female characters are most commonly portrayed as good characters, as was initially predicted. Men, in comparison, are most often portrayed as villains, but they are over-represented in every alignment category. For instance, although female characters are portrayed as good more often than bad and male characters are bad more often than good, there are nonetheless more good male characters than good female characters. A similar trend can be observed across minority versus majority characters in general, probably because the minority category is mostly comprised of female characters and majority by male characters. Still, even when you combine LGBT+ characters and female characters, the collective group is significantly underrepresented compared to straight cis male characters. The final graph examines only the representation of the LGBT+ community, rather than in comparison to straight cis characters, because LGBT+ characters were so grossly underrepresented that when visualized directly alongside non-LGBT+ characters, they were essentially negligible. Within the LGBT+ community, characters across all identities most often appeared as good characters, which contradicted my initial prediction. This differential was so exacerbated that it implied most identities were either good characters, or simply did not appear at all. Out of over 16,000 characters, less than 10 of any identity within the LGBT+ community were "bad characters" and less than 20 were "neutral." Around 60 were "good." This lack of representation for LGBT+ characters across the board reinforces the need for more LGBT+ characters across all alignments. 

## Project Proposal

  For this project, I am planning on using Neil Paine’s data set on diversity and representation in Marvel comics to research the question: Are characters of marginalized identities (members of the LGBT+ community, women) more likely to be portrayed as villains in Marvel comics? Ideally, I would also like to manually add data about characters’ racial background as well (but I’m not sure how to edit a data frame yet so this is tbd). 
  I hypothesize that overall, minority characters will be more likely to be portrayed as villains. Marvel Comics– and thus the characters from this data set— date back to 1939, a period when racism was still rampant and the LGBT+ community was significantly more ostracized. A natural offshoot of this racism and homophobia in society would be negative representation in the media, including in comic books. However, I hypothesize that if I examine LGBT+ characters, POC characters, and female characters independently, I will find that female characters are actually more likely to be portrayed in a positive light. Sexist social ideals in the early and mid-1900s generally painted women as innocent and pure, so it makes sense that they would be more closely identified with the “good side” in comic books. Additionally, most female characters in these early comic books were probably love interests for the main heroes, so again, they were probably on the side of the “good guys.” 
  The explanatory variable that we are examining is the identity of the characters (either “white, cis, straight male” or “marginalized identity [LGBT+, female, POC]” → could potentially explore these identifiers independently as well). These groupings can easily be created based on identifiers in the data set: SEX (female/male) and GSM (gender or sexual minority). As I said above, new data would need to be manually entered to create a variable for race. The outcome variable in this study is whether characters are portrayed as a hero or villain (or neither). In this data set, each character is designated an alignment (ALIGN): “Good Character,” “Bad Character,” or “Neutral Character.” This will make it easy to identify the outcome of how they were portrayed. If my research should yield a high correlation between characters being of a marginalized background and being labeled “Bad Character” compared to white cis male characters, than my hypothesis will be proven correct. If the opposite is true and white, cis, straight male characters are more closely correlated with being a “Bad Character” than characters from marginalized backgrounds, my hypothesis will be disproven. Ideally, I would like to break down these comparisons so I can see the individual effect of characters being POC vs female vs LGBT+ on their portrayal as well. 
